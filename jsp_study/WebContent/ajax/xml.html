<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<style>
section {
	border: 1px solid red;
}
</style>
</head>
<body>
<div id="app">
	<input type="button" value="버튼" id="btn">
	<section></section>
</div>
<script src="../js/jquery-3.5.1.js"></script>
<script>
	function process(data) {
		let str = '';
		// find()는 전체문서 기준으로 person 태그요소 찾기
		// person 태그 여러개가 배열리스트로 리턴됨.
		$(data).find('person').each(function () { // find함수는 항상 테그를 찾는다			
			// this는 person 태그가 된다.
			let name = $(this).find('name').text();
			let gender = $(this).find('name').text();
			let age = $(this).find('age').text();
			
			str += '<h2>' + name + ':' + gender + ':' + age + '</h2>';
		});
		$('section').html(str).bind(each);
		
	} // process();

	$('#btn').click(function () {
		// Ajax js로 통신가능한 함수구나...
		// Ajax 통신으로 string.jsp를 요청하고
		// 응답을 성공적으로 받으면 success 함수 호출한다.
		
		// Ajax(Asynchronous Javascript and XML, JSON)
		// 비동기이기때문에 ajax가 실행되어 늦어도 기다리지않고 다른 실행문이 실행된다.
		$.ajax({
			url: 'xml.jsp',
			success: function (data) {
				console.log(typeof data);
				console.log(data);
				
				process(data);
			}
		});
	});
</script>
</body>
</html>